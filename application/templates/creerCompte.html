<html!DOCTYPE html>
    <html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- lien de bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


        <!-- notre  fichier css -->
        <link rel="stylesheet" type="text/css" href="\static\style.css">
        <title>  Seismos || Créer compte pour les membres</title>

    <body class="BODY">

        {% include 'header.html' %}

        {% if poste == "admin" %}
        <div class="container py-5 h-100 col-12 col-md-8 col-lg-8 col-xl-8 mb-5">
            <div class="card text-white card-custom  m-5  ">
                <div class="card-body px-5 py-3 ">
                    <div class="mb-md-4 mt-md-4 pb-3">

                        <h2 class="fw-bold mb-2 text-uppercase text-center">Créer compte pour les membres</h2>

                        {% if messages_erreur.Nom or messages_erreur.Objectif or messages_erreur.Date_deb or messages_erreur.poste %}
                        <div class="d-flex justify-content-center align-items-center">
                            <i class="fa-solid fa-triangle-exclamation"
                                style="color: #ba1212;font-size: 30px; display: inline-block; vertical-align: middle; "></i>
                            <p class="error mt-md-4 NoError"
                                style="display: inline-block; vertical-align: middle; font-weight: bold">les champs avec
                                * sont obligatoire</p>
                        </div>
                        {% endif %}

                        <form action="/CreerCompte" method="POST">
                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Nom">NOM</label>
                                        {% if messages_erreur.Nom %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Nom }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="Nom" name="Nom" autocomplete="off">
                                </div>

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Prenom">PRÉNOM</label>
                                        {% if messages_erreur.Prenom %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Prenom }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="Prénom" name="Prenom" autocomplete="off">
                                </div>
                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-12 col-md-8 col-lg-6 col-xl-10">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="email">E-MAIL</label>
                                        {% if messages_erreur.email %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.email }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="E-mail" name="email" autocomplete="off">
                                </div>

                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Password">MOT DE PASSE</label>
                                        {% if messages_erreur.Password %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Password }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="password" class="form-control" placeholder="Mot de passe"
                                        name="Password">
                                </div>

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="ConfiPassword">CONFIRMER MOT DE PASSE</label>
                                        {% if messages_erreur.ConfiPassword %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                        </p>
                                        {% endif %}
                                    </div>
                                    <input type="password" class="form-control" placeholder="Confirmer mot de passe"
                                        name="ConfiPassword" autocomplete="off">
                                </div>
                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="service">POSTE </label>
                                        {% if messages_erreur.poste %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> * 
                                        </p>
                                        {% endif %}
                                    </div>
                                    <div class="input-group mb-3">
                                        <select class="form-select" aria-label=".form-select-sm example" name="poste">
                                            <option></option>
                                            <option value="Coordonnateur">Coordonnateur</option>
                                            <option value="Responsable d'etat">Responsable d'etat</option>
                                        </select>
                                    </div>
                                </div>

                            </div>



                            <div class="d-flex justify-content-center p-3">
                                <!-- <button class="btn btn-outline-light btn-lg px-5" type="submit">s'inscrire</button> -->
                                <a href="/static//pages/authentifier.html"><input type="submit"
                                        class="submit btn btn-outline-light btn-lg px-5" value="Confirmer"
                                        oninput="validatePassword()"></a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        {% if poste == "Coordonnateur" %}
        <div class="container py-5 h-100 col-12 col-md-8 col-lg-8 col-xl-8 mb-5">
            <div class="card text-white card-custom  m-5  ">
                <div class="card-body px-5 py-3 ">
                    <div class="mb-md-4 mt-md-4 pb-3">

                        <h2 class="fw-bold mb-2 text-uppercase text-center">Créer compte pour les membres</h2>

                        {% if messages_erreur.Nom or messages_erreur.Objectif or messages_erreur.Date_deb or messages_erreur.poste %}
                        <div class="d-flex justify-content-center align-items-center">
                            <i class="fa-solid fa-triangle-exclamation"
                                style="color: #ba1212;font-size: 30px; display: inline-block; vertical-align: middle; "></i>
                            <p class="error mt-md-4 NoError"
                                style="display: inline-block; vertical-align: middle; font-weight: bold">les champs avec
                                * sont obligatoire</p>
                        </div>
                        {% endif %}

                        <form action="/CreerCompte" method="POST">
                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Nom">NOM</label>
                                        {% if messages_erreur.Nom %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Nom }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="Nom" name="Nom" autocomplete="off">
                                </div>

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Prenom">PRÉNOM</label>
                                        {% if messages_erreur.Prenom %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Prenom }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="Prénom" name="Prenom" autocomplete="off">
                                </div>
                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-12 col-md-8 col-lg-6 col-xl-10">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="email">E-MAIL</label>
                                        {% if messages_erreur.email %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.email }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="E-mail" name="email" autocomplete="off">
                                </div>

                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Password">MOT DE PASSE</label>
                                        {% if messages_erreur.Password %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Password }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="password" class="form-control" placeholder="Mot de passe"
                                        name="Password">
                                </div>

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="ConfiPassword">CONFIRMER MOT DE PASSE</label>
                                        {% if messages_erreur.ConfiPassword %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                        </p>
                                        {% endif %}
                                    </div>
                                    <input type="password" class="form-control" placeholder="Confirmer mot de passe"
                                        name="ConfiPassword" autocomplete="off">
                                </div>
                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="service">POSTE </label>
                                        {% if messages_erreur.poste %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> * 
                                        </p>
                                        {% endif %}
                                    </div>
                                    <div class="input-group mb-3">
                                        <select class="form-select" aria-label=".form-select-sm example" name="poste">
                                            <option></option>
                                            <option value="Coordonnateur">Coordonnateur</option>
                                            <option value="Responsable de matériel">Responsable de matériel</option>
                                            <option value="Sismologue">Sismologue</option>
                                            <option value="Personnel médical">Personnel médical</option>
                                            <option value="Responsable de sécurité">Responsable de sécurité</option>
                                            <option value="Responsable d'etat">Responsable d'etat</option>
                                        </select>
                                    </div>
                                </div>

                            </div>



                            <div class="d-flex justify-content-center p-3">
                                <!-- <button class="btn btn-outline-light btn-lg px-5" type="submit">s'inscrire</button> -->
                                <a href="/static//pages/authentifier.html"><input type="submit"
                                        class="submit btn btn-outline-light btn-lg px-5" value="Confirmer"
                                        oninput="validatePassword()"></a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        {% if role == "chef" or role=="Personnel médical Chef" %}
        <div class="container py-5 h-100 col-12 col-md-8 col-lg-8 col-xl-8 mb-5">
            <div class="card text-white card-custom  m-5  ">
                <div class="card-body px-5 py-3 ">
                    <div class="mb-md-4 mt-md-4 pb-3">

                        <h2 class="fw-bold mb-2 text-uppercase text-center">Créer compte pour les membres</h2>

                        {% if messages_erreur.Nom or messages_erreur.Objectif or messages_erreur.Date_deb %}
                        <div class="d-flex justify-content-center align-items-center">
                            <i class="fa-solid fa-triangle-exclamation"
                                style="color: #ba1212;font-size: 30px; display: inline-block; vertical-align: middle; "></i>
                            <p class="error mt-md-4 NoError"
                                style="display: inline-block; vertical-align: middle; font-weight: bold">les champs avec
                                * sont obligatoire</p>
                        </div>
                        {% endif %}

                        <form action="/CreerCompteMembre" id="formulaire2" method="POST">
                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Nom">NOM</label>
                                        {% if messages_erreur.Nom %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Nom }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="Nom" name="Nom" autocomplete="off">
                                </div>

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Prenom">PRÉNOM</label>
                                        {% if messages_erreur.Prenom %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.Prenom }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="Prénom" name="Prenom" autocomplete="off">
                                </div>
                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-12 col-md-8 col-lg-6 col-xl-10">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="email">E-MAIL</label>
                                        {% if messages_erreur.email %}
                                        <p class="erreur NoError md-3"
                                            style="display: inline-block; vertical-align: middle; font-weight: bold;"> *
                                            {{ messages_erreur.email }} </p>
                                        {% endif %}
                                    </div>
                                    <input type="text" class="form-control" placeholder="E-mail" name="email" autocomplete="off">
                                </div>

                            </div>

                            <div class="row  d-flex justify-content-center align-items-center">

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5">
                                    <label class="form-label" for="service">POSTE </label>
                                    <div class="input-group mb-3">
                                        <select class="form-select" aria-label=".form-select-sm example" name="poste">
                                            <option></option>
                                            <option value="Coordonnateur">Coordonnateur</option>
                                            <option value="Responsable de matériel">Responsable de matériel</option>
                                            <option value="Sismologue">Sismologue</option>
                                            <option value="Personnel médical">Personnel médical</option>
                                            <option value="Responsable de sécurité">Responsable de sécurité</option>
                                            <option value="Responsable d'etat">Responsable d'etat</option>
                                        </select>
                                    </div>
                                </div>

                            </div>


                            <div class="row  d-flex justify-content-center align-items-center m-3">
                                <div class="col form-check col-6 col-md-4 col-lg-3 col-xl-5">
                                    <input class="form-check-input" type="checkbox" value="" id="showPasswordDiv" autocomplete="off">
                                    <label class="form-check-label" for="flexCheckDefault">
                                        Créer Compte
                                    </label>
                                </div>
                            </div>


                            <div class="row d-flex justify-content-center align-items-center">
                                <!-- Ajout de l'id et du style "display: none;" pour masquer le div par défaut -->
                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5" style="display: none;"
                                    id="passwordDiv1">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="Password">MOT DE PASSE</label>

                                    </div>
                                    <input type="password" class="form-control" placeholder="Mot de passe"
                                        name="Password" autocomplete="off">
                                </div>

                                <div class="col col-6 col-md-4 col-lg-3 col-xl-5" style="display: none;"
                                    id="passwordDiv2">
                                    <div style="display: flex; align-items: center;">
                                        <label class="form-label" for="ConfiPassword">CONFIRMER MOT DE PASSE</label>
                                    </div>
                                    <input type="password" class="form-control" placeholder="Confirmer mot de passe"
                                        name="ConfiPassword" autocomplete="off">
                                </div>
                            </div>

                            <script>
                                // Ajouter un écouteur d'événement sur le checkbox pour afficher ou masquer le div 
                                document.getElementById('showPasswordDiv').addEventListener('change', function () {
                                    var passwordDiv1 = document.getElementById('passwordDiv1');
                                    var passwordDiv2 = document.getElementById('passwordDiv2');
                                    if (this.checked) {
                                        passwordDiv1.style.display = 'block';
                                        passwordDiv2.style.display = 'block';
                                    } else {
                                        passwordDiv1.style.display = 'none';
                                        passwordDiv2.style.display = 'none';
                                    }
                                });
                            </script>




                            <div class="d-flex justify-content-center p-3">
                                <!-- <button class="btn btn-outline-light btn-lg px-5" type="submit">s'inscrire</button> -->
                                <input type="submit" class="submit btn btn-outline-light btn-lg px-5" value="Confirmer">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <script>
            document.getElementById('formulaire2').addEventListener('submit', function (event) {
                event.preventDefault();

                // Vérifier l'état du checkbox
                var checkbox = document.getElementById('showPasswordDiv');
                var url = '/CreerCompteMembre'; // URL par défaut

                if (checkbox.checked) {
                    url = '/CreerCompte'; // Mettre à jour l'URL si la case à cocher est cochée
                }

                fetch(url, {
                    method: 'POST',
                    body: new FormData(event.target)
                }) .then(function (response) {
                // Rafraîchir la page après l'envoi du formulaire
                location.reload();
            })
                    .catch(function (error) {
                        console.error(error);
                    });
            });

        </script>

        {% endif %}
        <!--
    <footer class="text-center text-lg-start footer-custom">
        
        <div class="text-center p-3 " >
          © PFE année universitaire 2022/2023
        </div>
        
    </footer>
-->

        <footer class=" footer-custom ">
            <div class="container">
                <div class="row ">
                    <div class="col-lg-10 text-center text-lg-start">
                        © PFE année universitaire 2022/2023
                    </div>
                </div>
            </div>
        </footer>

    </body>